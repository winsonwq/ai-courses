# Cursor IDE 规则配置

这是 Cursor IDE 的专用配置文件。Cursor 会自动读取此文件并应用其中的规则。

## 编码规范

### TypeScript
- 使用 TypeScript 严格模式
- 所有函数必须有类型注解
- 禁止使用 `any`，优先使用 `unknown`
- 使用 `interface` 定义对象类型

### 代码风格
- 使用 2 个空格缩进
- 使用单引号
- 行尾不使用分号
- 最大行长度：100 字符

### 命名约定
- 变量和函数：`camelCase`
- 类和接口：`PascalCase`
- 常量：`UPPER_SNAKE_CASE`

## 代码生成规则

### 函数生成
- 所有公共函数必须有 JSDoc 注释
- 异步函数必须包含错误处理
- 使用 try-catch 处理异步错误

### 测试生成
- 为新功能自动生成测试文件
- 测试文件命名：`*.test.ts`
- 使用 describe 和 it 组织测试

### 错误处理
- 所有 API 调用必须有错误处理
- 使用自定义错误类型
- 错误信息应该包含上下文

## 文件组织

### 导入顺序
1. 外部库
2. 内部模块
3. 类型导入（使用 `import type`）

### 导出规则
- 每个文件一个默认导出
- 辅助函数使用命名导出

## 特殊指令

### 代码审查
- 生成代码后自动检查是否符合规范
- 不符合规范的代码应该提示修改

### 文档生成
- 为新函数自动生成 JSDoc
- 为复杂逻辑添加注释

### 重构建议
- 发现重复代码时建议提取函数
- 发现过长函数时建议拆分

## 项目特定规则

### 依赖管理
- 优先使用项目已有的依赖
- 添加新依赖前检查是否已有类似功能

### 测试要求
- 关键功能必须有测试
- 测试覆盖率 ≥ 80%

### Git 提交
- Commit 信息遵循 Conventional Commits 规范
- 提交前运行测试和代码检查
